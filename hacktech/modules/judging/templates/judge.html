{% extends "layout.html" %}

{% block styles %}
  {{super()}}
{% endblock %}
{% block page %} 
<div class="jumbotron">
<div class='container'>
<div class="row">
  <div class="col-12 col-md-3" style="padding-left: 50px;">
    <div id="judgeViewOpt">
      <h5>Options</h5>
      Status types:
      </br>
      <label class="checkbox-inline">
        <input type="checkbox" name="display_tag" value="Accepted"/>
        Accepted</label>
      </br>
      <label class="checkbox-inline">
         <input type="checkbox" name="display_tag" value="In-Progress"/>
        In-progress</label>
      </br>
      <label class="checkbox-inline">
        <input type="checkbox" name="display_tag" value="Submitted"/>
        Submitted</label>
      </br>
      <label class="checkbox-inline">
        <input type="checkbox" name="display_tag" value="RSVPed"/>
        RSVPed</label>
      </br>
      <input type="checkbox" name="display_tag" value="Declined"/>
      <label class="checkbox-inline">Declined</label>
      </br>
      <label class="checkbox-inline">Rejected</label>
      <input type="checkbox" name="display_tag" value="Rejected"/>
      </br>
      <label class="checkbox-inline">Not Started</label>
      <input type="checkbox" name="display_tag" value="Not Started"/>
       <form class="form-inline" action="{{ url_for('judging.update_page_size', page=page) }}" method="post">
         <div id="pageSize" class="form-group">
            <label for="page_size">Entries per page: </label>
	    <input type="number" class="form-control" id="page_size" name="page_size" placeholder="{{page_size}}" />
	    <button type="submit" class="btn btn-primary">Go</button>
          </div>
          </form>
    </div>
    <div>
      <h5>Downloads</h5>
      <form class="form-inline" action="{{ url_for('judging.serve_resume_book') }}" method="post">
        <div class="form-group">
          <label for="groups">Download resume book of groups:  </label> 
          <div class="1checkbox-inline">
            <label class="checkbox-inline">
              <input type="checkbox" name="groups" value="Accepted"> Accepted </input>
	    </label>
          </div>
          <div class="1checkbox-inline">     
            <label class="checkbox-inline">
              <input type="checkbox" name="groups" value="Submitted"> Submitted </input>
            </label>
          </div>
          <div class="1checkbox-inline">     
            <label class="checkbox-inline">
              <input type="checkbox" name="groups" value="In-Progress"> In-Progress </input>
            </label>
          </div>
          <div class="1checkbox-inline">     
            <label class="checkbox-inline">
              <input type="checkbox" name="groups" value="RSVPed"> RSVPed </input>
            </label>
          </div>
          <div class="1checkbox-inline">     
            <label class="checkbox-inline">
              <input type="checkbox" name="groups" value="Rejected"> Rejected </input>
            </label>
          </div>
          <div class="1checkbox-inline">     
            <label class="checkbox-inline">
              <input type="checkbox" name="group" value="Declined"> Declined </input>
            </label>
          </div>
	</div>
        <button type="submit" class="btn btn-primary">Go</button> 
      </form>
    </div>
  </div>
  <div class="col-12 col-md-9">
    <table style="width:100%" id="judgingTable">
  <tr>
    <th>Name</th>
    <th>Status</th>
    <th>Link</th>
  </tr>
  {% for i in info %}
  <tr class='{{i.status}}'>
	  <td>{{page*page_size+loop.index}}. {{i.first_name}} {{i.last_name}} </td>
	  <td> {{i.status}} </td>
	  <td><a href="{{i.link}}">Go</a></td>
  </tr>
  {% endfor %}
</table>
  {%if page > 0%}
  <a href="{{ url_for('judging.judge', page=page-1) }}"> Prev Page </a>
  {%endif%}

  <div id="pageJumpDiv">
	{%if page >= 3 %}
	<a href="{{ url_for('judging.judge', page=0) }}">1...</a>
	{%endif%}
	{%for i in range(3, 0, -1)%}
	  {%if page - i >= 0%}
	    <a href="{{ url_for('judging.judge', page=page-i) }}"> {{page-i+1}} </a>  	
	  {%endif%}
  	{%endfor%}	
	 <a id="pageJumpCurPage" href="{{ url_for('judging.judge', page=page) }}"> {{page+1}} </a>
	{%for i in range(1, 3)%}
          {%if page + i < total_pages%}
            <a href="{{ url_for('judging.judge', page=page+i) }}"> {{page+i+1}} </a>
          {%endif%}
        {%endfor%}
	{%if page <= total_pages - 3 %}
	<a href="{{ url_for('judging.judge', page=total_pages - 1)}}">...{{total_pages}}</a>
        {%endif%}
  </div>
  {%if total_pages > page + 1%}
  <a href="{{ url_for('judging.judge', page=page+1) }}" id="nextPage"> Next Page </a>
  {%endif%}
  </div>
</div>
</div>
</div>
{% block scripts %}
  {{ super() }}
  <script>
    $('#judgeViewOpt :checkbox').prop('checked', true);
    // Bind visible checkboxes.
    $('#judgeViewOpt :checkbox').change(function() {
      toggle($(this).val(), this.checked);
    });  
    function toggle(tag, visibility){
      $("tr").each( function (){
        if ($(this).hasClass(tag))
        {
            $(this).toggle(visibility);
        }
      });
    }
  </script>
{% endblock %}
{% endblock %}
